{% set cpu_clock_mhz = (sim_freq/system.cpu_clk_domain.clock) / 10**6 %}
<param name="interconnect_projection_type" value="0"/><!--0: aggressive wire technology; 1: conservative wire technology -->
<param name="number_of_NoCs" value="1"/>
<param name="homogeneous_NoCs" value="0"/>
<component id="system.NoC0" name="noc0">
  <param name="clockrate" value="{{ cpu_clock_mhz }}"/>
  <param name="vdd" value="0"/>
  <param name="type" value="1"/>
  <param name="horizontal_nodes" value="TODO"/>
  <param name="vertical_nodes" value="TODO"/>
  <param name="has_global_link" value="0"/>
  <param name="link_throughput" value="TODO"/>
  <param name="link_latency" value="{{ (find('system.ruby.network.ext_links')|lmatch_has('latency'))[0].latency }}"/>
  <param name="input_ports" value="TODO"/>
  <param name="output_ports" value="TODO"/>
  <param name="flit_bits" value="{{ system.ruby.block_size_bytes * 8 }}"/>
  <param name="chip_coverage" value="1"/>
  <param name="link_routing_over_percentage" value="1.0"/>
  <stat name="total_accesses" value="{{ system.ruby.network.msg_count.Control + system.ruby.network.msg_count.Response_Data + system.ruby.network.msg_count.Response_Control + system.ruby.network.msg_count.Writeback_Data + system.ruby.network.msg_count.Writeback_Control }}"/>
  <stat name="duty_cycle" value="1"/>
</component>
